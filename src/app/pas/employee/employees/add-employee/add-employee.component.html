<div class="emp-container">
  <!-- sidebar  -->
  <div class="emp-sidebar">
    <!-- Left Navigation Arrow-->
    <i class="fa fa-2x fa-arrow-left back-icon mt-4 cursor-pointer" (click)="back()"></i>
    <div class="nav-list">
      <!-- Side Navigation Menu Tabs-->
      <div class="nav-item" (click)="setFormTab('Basic')" [class.active]="empFormTab == 'Basic'">
        Basic Information
      </div>
      <div class="nav-item" (click)="setFormTab('Bank')" [class.active]="empFormTab == 'Bank'">
        Bank Details
      </div>
      <div class="nav-item" (click)="setFormTab('Docs')" [class.active]="empFormTab == 'Docs'">
        Documents
      </div>
      <div class="nav-item" (click)="setFormTab('Statutory')" [class.active]="empFormTab == 'Statutory'">
        Statutory
      </div>
      <div class="nav-item" (click)="setFormTab('Statements')" [class.active]="empFormTab == 'Statements'">
        Statements
      </div>
    </div>
  </div>


  <div class="emp-details">
    <!-- Heading -->
    <div class="container">
      <div class="row">
        <div class="col heading ">Add New Employee</div>
        <div class="col d-flex justify-content-end align-items-start mt-4">
          <button (click)="submitEmpForm(empFormGroup); savePopup();" class="btn btn-dark ">
            <i class="fa fa-save"></i> Save
          </button>
        </div>
      </div>
    </div>
    <div class="form" [formGroup]="empFormGroup">

      <!-- Basic Information Form  -->
      <div class="emp-form-group" [hidden]="empFormTab != 'Basic'">
        <div class="container">
          <div class="row">
            <div class="col-4 form-title"><b>Joining Information</b></div>
            <div class="col-8">
              <mat-form-field appearance="legacy">
                <input matInput [matDatepicker]="picker" placeholder="Joining Date" 
                  formControlName="joiningInfo" required>
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
              </mat-form-field>
            </div>
          </div>
          <hr>
          <!-- Profile Image-->
          <div class="row">
            <div class="col-4 form-title"><b>Employee Details</b> <br>
              <p class="profileTitle">Profile Photo</p>
              <div class="row profilePhoto">
                <div class="col-12 box ml-3">
                  <img [src]="url" class="box" alt="">
                  <label for="file" class="label">
                    <!-- Pencil Icon Bootstrap-->
                    <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" 
                          class="bi bi-pencil-fill pencilIcon" viewBox="0 0 16 16">
                      <path d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"
                      />
                    </svg>
                    <!-- Input for Image-->
                    <input type="file" id="profile" (change)="selectFile($event)" class="profileInput" formControlName="profileimg" name="image" 
                      accept="image/gif,image/jpeg,image/jpg,image/png"
                      multiple="" data-original-title="upload photos">
                  </label>
                </div>
              </div>
            </div>
            <div class="col-8">
              <div class="row">
                <div class="col-4">
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="First Name" formControlName="firstname" required />
                  </mat-form-field>
                </div>
                <div class="col-4">
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="Middle Name" formControlName="middlename" />
                  </mat-form-field>
                </div>
                <div class="col-4">
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="Last Name" formControlName="lastname" required />
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <div class="col-8">
                  <mat-form-field appearance="legacy" class="address">
                    <input matInput placeholder="Address" formControlName="address" required />
                  </mat-form-field>
                </div>
                <div class="col-4">
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="Zip Code" formControlName="zip" required />
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <div class="col-4">
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="Town/City" formControlName="city" required />
                  </mat-form-field>
                </div>
                <div class="col-4">
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="State/Region" formControlName="state" required />
                  </mat-form-field>
                </div>
                <div class="col-4">
                  <mat-form-field appearance="legacy">
                    <mat-select placeholder="Country" formControlName="country" required>
                      <mat-option value="India">India</mat-option>
                      <mat-option value="EngLand">England</mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <div class="col-4">
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="Email" formControlName="email" />
                  </mat-form-field>
                </div>
                <div class="col-4">
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="Mobile Number" formControlName="mobilenumber" required />
                  </mat-form-field>
                </div>
                <div class="col-4">
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="Telephone" formControlName="telephone" />
                  </mat-form-field>
                </div>
              </div>
            </div>
          </div>
          <hr>
          <!-- Department Section-->
          <div class="row">
            <div class="col-4 form-title"><b>Departments Details</b></div>
            <div class="col-8">
              <div class="row">
                <div class="col-4">
                  <mat-form-field appearance="legacy">
                    <mat-select placeholder="Department" formControlName="department" required>
                      <mat-option value="BOH">BOH</mat-option>
                      <mat-option value="FOH">FOH</mat-option>
                      <mat-option value="Management">Management</mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
                <div class="col-4">
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="Position" formControlName="position" required />
                  </mat-form-field>
                </div>
              </div>
            </div>
          </div>
          <hr>

          <!-- Location Section-->
          <div class="row">
            <div class="col-4 form-title"><b>Location Details</b></div>
            <div class="col-8">
              <div class="row">
                <div class="col-4">
                  <mat-form-field appearance="legacy">
                    <mat-select placeholder="Location" formControlName="location" required>
                      <mat-option value="ABT Cafeteria LTD">ABT Cafeteria LTD</mat-option>
                      <mat-option value="Cremes Cafe">Cremes Cafe</mat-option>
                      <mat-option value="Cafe 3">Cafe 3</mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
            </div>
          </div>
          <hr>

          <!-- Kin Information Section-->
          <div class="row">
            <div class="col-4 form-title"><b>Kin Information</b></div>
            <div class="col-8">
              <div class="row">
                <div class="col-4">
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="First Name" formControlName="kinfirstname" />
                  </mat-form-field>
                </div>
                <div class="col-4">
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="Middle Name" formControlName="kinmiddlename" />
                  </mat-form-field>
                </div>
                <div class="col-4">
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="Last Name" formControlName="kinlastname" />
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <div class="col-8">
                  <mat-form-field appearance="legacy" class="address">
                    <input matInput placeholder="Address" formControlName="kinaddress" />
                  </mat-form-field>
                </div>
                <div class="col-4">
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="Zip Code" formControlName="kinzip" />
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <div class="col-4">
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="Email" formControlName="kinemail" />
                  </mat-form-field>
                </div>
                <div class="col-4">
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="Mobile Number" formControlName="kinmobilenumber" />
                  </mat-form-field>
                </div>
                <div class="col-4">
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="Telephone" formControlName="kintelephone" />
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <div class="col-4">
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="Relation" formControlName="kinrelation" />
                  </mat-form-field>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Bank Form  -->
      <div class="emp-form-group" [hidden]="empFormTab != 'Bank'">
        <div class="container">
          <div class="row">
            <div class="col-4 form-title"><b>Bank Information</b></div>
            <div class="col-8">
              <div class="row">
                <div class="col">
                  <!-- Bank Details-->
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="Bank Name" formControlName="bankname" required />
                  </mat-form-field>
                </div>
                <div class="col">
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="Branch Account" formControlName="branchacc" />
                  </mat-form-field>
                </div>
                <div class="col">
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="Account Holder Name" formControlName="accholdername" required />
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <div class="col-8">
                  <mat-form-field appearance="legacy" class="address">
                    <input matInput placeholder="Bank Sort Code" formControlName="sortcode" required />
                  </mat-form-field>
                </div>
                <div class="col-4">
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="Account Number" formControlName="accnumber" required />
                  </mat-form-field>
                </div>
              </div>
            </div>
          </div>
          <hr>

          <!-- Salary Information Section-->
          <div class="row">
            <div class="col-4 form-title"><b>Salary Infomartion</b></div>
            <div class="col-8">
              <div class="row">
                <div class="col-4">
                  <mat-form-field appearance="legacy">
                    <mat-select placeholder="Employee Type" formControlName="emptype" 
                                aria-required="emptype">
                      <mat-option value="Hourly Employee">Hourly Employee</mat-option>
                      <mat-option value="Weekly Employee">Weekly Employee</mat-option>
                      <mat-option value="Monthly Employee">Monthly Employee</mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
                <div class="col-4">
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="salary Type" value="{{(empFormGroup.get('emptype').value).split(' ')[0]}}" formControlName="salary" required />
                  </mat-form-field>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Shift Detail Form  -->
      <!-- <div class="emp-form-group" [hidden]="empFormTab != 'Shifts'">
          
          <ag-grid-angular
          class="ag-theme-alpine agGridShift"
          domLayout="autoHeight"
          [rowData]="ShiftDetails"
          [suppressRowClickSelection]="true"
          [defaultColDef]="defaultColDef"
          [rowSelection]="rowSelection"
          [columnDefs]="columnDefs"
          [gridOptions]="gridOptions"
          (gridReady)="onGridReady($event)"
          [paginationPageSize]="10"
          [pagination]="true"
          >
          </ag-grid-angular>
        </div> -->

      <!-- Documents  Form  -->
      <div class="emp-form-group" [hidden]="empFormTab != 'Docs'">
        <div class="container">
          <div class="row">
            <div class="col-4 form-title"><b>Documents</b></div>
            <div class="col-8">
              <div class="row">
                <div class="col-4">
                  <!-- Document Details Inputs-->
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="Document Name" id="documentName" formControlName="docname"/>
                  </mat-form-field>
                </div>
                <div class="col-4">
                  <mat-form-field appearance="legacy">
                    <mat-select placeholder="Document Type" id="documentType" formControlName="doctype">
                      <mat-option value="Contract">Contract</mat-option>
                      <mat-option value="Contract">Personal</mat-option>
                    </mat-select>
                  </mat-form-field>
                  <label for="file">
                    <i class="material-icons" type="button">attachment</i>
                    <input type="file" (change)="selectFile($event)" id="file" class="docAttachInput" 
                            formControlName="docAttach" name="image" accept="image/gif,image/jpeg,image/jpg,image/png"
                            multiple="" data-original-title="upload photos"
                      required>
                  </label>
                </div>

              </div>
              <div class="row">
                <div class="col-8">
                  <mat-form-field appearance="legacy" class="address">
                    <input matInput placeholder="Description" id="documentDesp" formControlName="Desp" />
                  </mat-form-field>
                </div>
                <div class="col-4 d-flex justify-content-end align-items-start">
                  <button class="btn btn-sm btn-dark " (click)="onAddRow()" (click)="upload()">
                    <i class="fa fa-plus"></i> ADD
                  </button>
                </div>
              </div>
            </div>
          </div>
          <hr>
          <div class="row">
            <!-- agGrid -->
            <ag-grid-angular class="ag-theme-alpine agGridShift" domLayout="autoHeight" 
              [rowData]="DocDetails" [suppressRowClickSelection]="true"
              [defaultColDef]="defaultColDef" [rowSelection]="rowSelection" 
              [columnDefs]="columnDefs2" [gridOptions]="gridOptions"
              (gridReady)="onGridReady($event)" [paginationPageSize]="10" [pagination]="true">
            </ag-grid-angular>
          </div>
        </div>
      </div>

      <!-- Statutory  Form  -->
      <div class="emp-form-group" [hidden]="empFormTab != 'Statutory'">
        <div class="container">
          <div class="row">
            <div class="col-4 form-title"><b>Statutory</b></div>
            <div class="col-8">
              <div class="row">
                <!-- Statutory Details Input-->
                <div class="col-4">
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="Nationality" formControlName="nationality" required />
                  </mat-form-field>
                </div>
                <div class="col-4">
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="Place of Birth" formControlName="birthplace" />
                  </mat-form-field>
                </div>
                <div class="col-4">
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="Date of Birth" formControlName="DOB" required />
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <div class="col-4">
                  <mat-form-field appearance="legacy">
                    <mat-select placeholder="Gender" formControlName="gender" required>
                      <mat-option value="Male">Male</mat-option>
                      <mat-option value="Female">Female</mat-option>
                      <mat-option value="Other">Other</mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
                <div class="col-4">
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="Age" formControlName="age" />
                  </mat-form-field>
                </div>
                <div class="col-4">
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="Marital Status" formControlName="maritalstatus" />
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <div class="col-4">
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="Passport Number" formControlName="passportnumber" />
                  </mat-form-field>
                </div>
              </div>
            </div>
          </div>
          <hr>
          <div class="row">
            <div class="col-4 form-title"><b>NI Number</b>
              <p>National Insurance Number</p>
            </div>
            <div class="col-8">
              <div class="row">
                <div class="col-4 matmargin">
                  <mat-radio-group [formControl]="floatLabelControl" formControlName="havingNInumber">
                    <mat-radio-button value="Yes">Yes</mat-radio-button>
                    <mat-radio-button value="No">No</mat-radio-button>
                  </mat-radio-group>
                </div>
                <div class="col-4">
                  <mat-form-field appearance="legacy">
                    <input matInput placeholder="NI Number" formControlName="NInumber" required />
                  </mat-form-field>
                </div>
              </div>
            </div>
          </div>
          <hr>
          <div class="row">
            <div class="col-4 form-title"><b>Tax -P45</b></div>
            <div class="col-8">
              <div class="row">
                <div class="col-8 matmargin">
                  <mat-checkbox [formControl]="hideRequiredControl" formControlName="taxP45">
                    In the absence of P45, please select the checkbox
                  </mat-checkbox>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Statements Form  -->
      <div class="emp-form-group Statements" [hidden]="empFormTab != 'Statements'">
        <div class="container pt-4">
          <div class="row">
            <div class="col-4 form-title"><b>Employee Statement</b></div>
            <div class="col-8">
              <mat-radio-group [formControl]="floatLabelControl2" formControlName="empstatement">
                <mat-radio-button value="Statement1">
                  This is my first job since last 6th April and I have not been receiving taxable jobseeker's allowances
                  <br> and support allowances or taxable incapacity benefits ora State or Occupation pension
                </mat-radio-button> <br>
                <mat-radio-button value="Statement2">
                  This is my only job now, but since last 6th April I have had another job, or received taxable jobseeker's
                  <br> allowance or employment and support allowances or taxable incapacity benefits</mat-radio-button> <br>
                <mat-radio-button value="Statement3">I do not receive a state or I have another job or receive a state or
                  Occupational pension</mat-radio-button>
              </mat-radio-group>
            </div>
          </div>
          <hr>
          <div class="row">
            <div class="col-4 form-title"><b>Student Loan</b></div>
            <div class="col-8">
              <p class="parablack">Do you have a student loan which is not fully repaid and all of the following apply?
                <br> - You left the course of UK Higher education before 6th April
                <br> - You received your first student loan installment on or after 1st september, 1998
              </p>
              <div class="row">
                <div class="col-4 matmargin">
                  <mat-radio-group [formControl]="floatLabelControl3" formControlName="loan">
                    <mat-radio-button value="Yes">Yes</mat-radio-button>
                    <mat-radio-button value="No">No</mat-radio-button>
                  </mat-radio-group>
                </div>
              </div>
            </div>
          </div>
          <hr>
          <div class="row">
            <div class="col-4 form-title"><b>Medical Condition</b></div>
            <div class="col-8">
              <p class="parablack">Do you have any medical condition that can impact work?</p> <br>
              <col class="row">
              <div class="col-8">
                <mat-form-field appearance="legacy" class="address">
                  <input matInput placeholder="Mention, If any" formControlName="medicalcondition" />
                </mat-form-field>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Save Pop-up -->
<ng-template #OpenPopup let-data let-ref="dialogRef">
  <div class="savepopup card">
    <div class="card-body CopyCard d-flex flex-column text-center">
      <div class="saveCard">
        <i class="fa fa-times" (click)="ref.close()" class="saveCardClose"></i>
      </div>
      <!-- Circle Icon -->
      <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" 
            class="bi bi-check-circle-fill saveCardPopup" viewBox="0 0 16 16">
        <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"
        />
      </svg>
      <h6 class="mt-3">A new employee has been added</h6>

      <div class="mt-4">
        <button class="btn btn-sm btn-dark mr-4 savePopupBack" (click)="ref.close()"> BACK
        </button>
        <button class="btn btn-sm btn-dark saveCardBack" (click)="viewEmployee(); ref.close()"> VIEW EMPLOYEE
        </button>
      </div>
    </div>
  </div>
</ng-template>

<!-- Delete Document-->
<ng-template #deleteContent let-data let-ref="dialogRef">
  <div class="deletepopup card">
    <div class="card-body deleteCard d-flex flex-column text-center">
      <div class="saveCard">
        <i class="fa fa-times" (click)="ref.close()" class="saveCardClose"></i>
      </div>
      <div class=""><i class="fa fa-2x fa-trash"></i></div>
      <h4 class="mt-4">Delete Document</h4>

      <div class="mt-2">
        <button class="btn btn-sm btn-dark deletePopup" (click)="deleteDocumentData(deleteCashupObj); ref.close()">
          Delete
        </button>
      </div>
    </div>
  </div>
</ng-template>